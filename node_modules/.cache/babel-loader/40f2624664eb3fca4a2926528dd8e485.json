{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/josharsh/Desktop/Projects/Konfhub-Frontend/src/SearchFilter.js\";\nimport React, { Component } from \"react\";\nimport Conference from \"./Conference\";\nimport \"./App.css\";\n\nclass SearchFilter extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      freeConf: [],\n      paidConf: [],\n      itemsToDisplay: [],\n      itemsToUse: [],\n      countries: [],\n      cities: [],\n      search: \"\"\n    };\n\n    this.filterOnSearch = event => {\n      this.setState({\n        search: event.target.value\n      });\n      if (!event.target.value || event.target.value === \" \" || event.target.value === \"\") this.setState({\n        itemsToDisplay: [...this.state.itemsToUse]\n      });else {\n        let itemsToDisplay = [];\n        itemsToDisplay = this.state.itemsToUse.filter(item => item.searchTerms.toLowerCase().includes(this.state.search.toLowerCase()));\n        this.setState({\n          itemsToDisplay\n        });\n      }\n    };\n\n    this.countryFilter = () => {\n      var e = document.getElementById(\"countryfilter\");\n      var selected = e.options[e.selectedIndex].text;\n      if (selected === \"Choose Any\") this.setState({\n        itemsToDisplay: [...this.state.itemsToUse]\n      });else {\n        let itemsToDisplay = [];\n        itemsToDisplay = this.state.itemsToUse.filter(item => item[\"country\"].toLowerCase().includes(selected.toLowerCase()));\n        this.setState({\n          itemsToDisplay\n        });\n      }\n    };\n\n    this.cityFilter = () => {\n      var e = document.getElementById(\"cityfilter\");\n      var selected = e.options[e.selectedIndex].text;\n      if (selected === \"Choose Any\") this.setState({\n        itemsToDisplay: [...this.state.itemsToUse]\n      });else {\n        let itemsToDisplay = [];\n        itemsToDisplay = this.state.itemsToUse.filter(item => item[\"city\"].toLowerCase().includes(selected.toLowerCase()));\n        this.setState({\n          itemsToDisplay\n        });\n      }\n    };\n\n    this.typeFilter = () => {\n      var e = document.getElementById(\"typefilter\");\n      var selected = e.options[e.selectedIndex].text;\n      if (selected === \"Choose Any\") this.setState({\n        itemsToDisplay: [...this.state.itemsToUse]\n      });else {\n        let itemsToDisplay = [];\n        itemsToDisplay = this.state.itemsToUse.filter(item => item[\"type\"].toLowerCase().includes(selected.toLowerCase()));\n        this.setState({\n          itemsToDisplay\n        });\n      }\n    };\n\n    this.onlyUnique = (value, index, self) => {\n      return self.indexOf(value) === index;\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"search-form\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"search-bar\",\n          type: \"text\",\n          value: this.state.search,\n          onChange: this.filterOnSearch,\n          placeholder: \"Search by name or city\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"countryfilter\",\n          className: \"dropbtn\",\n          onChange: this.countryFilter,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            className: \"dropdown-content\",\n            value: \"any\",\n            selected: \"selected\",\n            children: \"Filter by Country\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 13\n          }, this), this.state.countries.map(country => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: country,\n              children: country\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 22\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"cityfilter\",\n          className: \"dropbtn\",\n          onChange: this.cityFilter,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            className: \"dropdown-content\",\n            value: \"any\",\n            children: \"Filter by City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this), this.state.cities.map(city => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: city,\n              children: city\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 22\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"typefilter\",\n        children: [\"Free or Paid : \\xA0\", /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"typefilter\",\n          onChange: this.typeFilter,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"any\",\n            children: \"Choose Any\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"free\",\n            children: \"free\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"paid\",\n            children: \"paid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid\",\n        children: this.state.itemsToDisplay.map((conf, index) => {\n          return /*#__PURE__*/_jsxDEV(Conference, {\n            type: conf.type,\n            title: conf.confName,\n            place: conf.venue,\n            imageURL: conf.imageURL.replace(\"\\\"\", \"\"),\n            startDate: conf.confStartDate,\n            endDate: conf.confEndDate,\n            website: conf.confUrl\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this);\n  }\n\n  async componentDidMount() {\n    const response = await fetch(\"https://o136z8hk40.execute-api.us-east-1.amazonaws.com/dev/get-list-of-conferences\");\n    const jsonResponse = await response.json();\n\n    for (let i = 0; i < jsonResponse[\"paid\"].length; ++i) {\n      if (jsonResponse.paid[i].imageURL.charAt(jsonResponse.paid[i].imageURL.length - 1) == \"\\\"\") {\n        jsonResponse.paid[i].imageURL = jsonResponse.paid[i].imageURL.slice(0, -1);\n      }\n    }\n\n    for (let i = 0; i < jsonResponse[\"free\"].length; ++i) {\n      if (jsonResponse.free[i].imageURL.charAt(jsonResponse.free[i].imageURL.length - 1) == \"\\\"\") {\n        jsonResponse.free[i].imageURL = jsonResponse.free[i].imageURL.slice(0, -1);\n      }\n    }\n\n    this.setState({\n      freeConf: jsonResponse.free\n    });\n    this.setState({\n      paidConf: jsonResponse.paid\n    });\n    this.reRenderList();\n  }\n\n  reRenderList() {\n    var cities = [];\n    var countries = [];\n    var itemsToDisplay = [];\n\n    for (var i = 0; i < this.state.freeConf.length; i++) {\n      var item = this.state.freeConf[i];\n      item.type = \"Free\"; // if (item.imageURL.charAt(item.imageURL.length - 1) === '\\\\\"') {\n      //   item.imageURL = item.imageURL.slice(0, -1);\n      // }\n\n      itemsToDisplay.push(this.state.freeConf[i]);\n      countries.push(this.state.freeConf[i][\"country\"].toLowerCase().trim());\n      cities.push(this.state.freeConf[i][\"city\"].toLowerCase().trim());\n    }\n\n    for (i = 0; i < this.state.paidConf.length; i++) {\n      item = this.state.paidConf[i];\n      item.type = \"Paid\";\n      itemsToDisplay.push(this.state.paidConf[i]);\n      countries.push(this.state.paidConf[i][\"country\"].toLowerCase().trim());\n      cities.push(this.state.paidConf[i][\"city\"].toLowerCase().trim());\n    }\n\n    countries = Array.from(new Set(countries));\n    cities = Array.from(new Set(cities));\n    countries.sort();\n    cities.sort();\n    console.log(countries);\n    this.setState({\n      countries\n    });\n    this.setState({\n      cities\n    });\n    this.setState({\n      itemsToDisplay\n    }, () => {\n      this.setState({\n        itemsToUse: [...this.state.itemsToDisplay]\n      });\n    });\n  }\n\n}\n\nexport default SearchFilter;","map":{"version":3,"sources":["/home/josharsh/Desktop/Projects/Konfhub-Frontend/src/SearchFilter.js"],"names":["React","Component","Conference","SearchFilter","state","freeConf","paidConf","itemsToDisplay","itemsToUse","countries","cities","search","filterOnSearch","event","setState","target","value","filter","item","searchTerms","toLowerCase","includes","countryFilter","e","document","getElementById","selected","options","selectedIndex","text","cityFilter","typeFilter","onlyUnique","index","self","indexOf","render","map","country","city","conf","type","confName","venue","imageURL","replace","confStartDate","confEndDate","confUrl","componentDidMount","response","fetch","jsonResponse","json","i","length","paid","charAt","slice","free","reRenderList","push","trim","Array","from","Set","sort","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Conference from \"./Conference\";\n\nimport \"./App.css\";\n\nclass SearchFilter extends Component {\n  state = {\n    freeConf: [],\n    paidConf: [],\n    itemsToDisplay: [],\n    itemsToUse: [],\n    countries: [],\n    cities: [],\n    search: \"\",\n  };\n\n  render() {\n    return (\n      <div>\n        <form className=\"search-form\">\n          <input\n            className=\"search-bar\"\n            type=\"text\"\n            value={this.state.search}\n            onChange={this.filterOnSearch}\n            placeholder=\"Search by name or city\"\n          />\n        </form>\n        <div className=\"dropdown\">\n          <select id=\"countryfilter\" className =\"dropbtn\" onChange={this.countryFilter}>\n            <option className=\"dropdown-content\" value=\"any\" selected=\"selected\">\n            Filter by Country\n            </option>\n            {this.state.countries.map((country) => {\n              return <option value={country}>{country}</option>;\n            })}\n          </select>\n        </div>\n        <br />\n        <div className=\"dropdown\">\n          <select id=\"cityfilter\" className =\"dropbtn\"  onChange={this.cityFilter}>\n            <option className=\"dropdown-content\"  value=\"any\">Filter by City</option>\n            {this.state.cities.map((city) => {\n              return <option value={city}>{city}</option>;\n            })}\n          </select>\n        </div>\n        <br />\n\n        <div className=\"typefilter\">\n          Free or Paid : &nbsp;\n          <select id=\"typefilter\" onChange={this.typeFilter}>\n            <option value=\"any\">Choose Any</option>\n            <option value=\"free\">free</option>\n            <option value=\"paid\">paid</option>\n          </select>\n        </div>\n\n        <br />\n\n        <div className=\"grid\">\n          {this.state.itemsToDisplay.map((conf, index) => {\n            return (\n              <Conference\n                key={index}\n                type={conf.type}\n                title={conf.confName}\n                place={conf.venue}\n                imageURL={conf.imageURL.replace(\"\\\"\",\"\")}\n                startDate={conf.confStartDate}\n                endDate={conf.confEndDate}\n                website={conf.confUrl}\n              />\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  filterOnSearch = (event) => {\n    this.setState({ search: event.target.value });\n    if (\n      !event.target.value ||\n      event.target.value === \" \" ||\n      event.target.value === \"\"\n    )\n      this.setState({ itemsToDisplay: [...this.state.itemsToUse] });\n    else {\n      let itemsToDisplay = [];\n      itemsToDisplay = this.state.itemsToUse.filter((item) =>\n        item.searchTerms.toLowerCase().includes(this.state.search.toLowerCase())\n      );\n      this.setState({ itemsToDisplay });\n    }\n  };\n\n  countryFilter = () => {\n    var e = document.getElementById(\"countryfilter\");\n    var selected = e.options[e.selectedIndex].text;\n\n    if (selected === \"Choose Any\")\n      this.setState({ itemsToDisplay: [...this.state.itemsToUse] });\n    else {\n      let itemsToDisplay = [];\n      itemsToDisplay = this.state.itemsToUse.filter((item) =>\n        item[\"country\"].toLowerCase().includes(selected.toLowerCase())\n      );\n      this.setState({ itemsToDisplay });\n    }\n  };\n\n  cityFilter = () => {\n    var e = document.getElementById(\"cityfilter\");\n    var selected = e.options[e.selectedIndex].text;\n\n    if (selected === \"Choose Any\")\n      this.setState({ itemsToDisplay: [...this.state.itemsToUse] });\n    else {\n      let itemsToDisplay = [];\n      itemsToDisplay = this.state.itemsToUse.filter((item) =>\n        item[\"city\"].toLowerCase().includes(selected.toLowerCase())\n      );\n      this.setState({ itemsToDisplay });\n    }\n  };\n\n  typeFilter = () => {\n    var e = document.getElementById(\"typefilter\");\n    var selected = e.options[e.selectedIndex].text;\n\n    if (selected === \"Choose Any\")\n      this.setState({ itemsToDisplay: [...this.state.itemsToUse] });\n    else {\n      let itemsToDisplay = [];\n      itemsToDisplay = this.state.itemsToUse.filter((item) =>\n        item[\"type\"].toLowerCase().includes(selected.toLowerCase())\n      );\n      this.setState({ itemsToDisplay });\n    }\n  };\n\n  async componentDidMount() {\n    const response = await fetch(\n      \"https://o136z8hk40.execute-api.us-east-1.amazonaws.com/dev/get-list-of-conferences\"\n    );\n    const jsonResponse = await response.json();\n    for(let i=0;i<jsonResponse[\"paid\"].length;++i){\n      if(jsonResponse.paid[i].imageURL.charAt(jsonResponse.paid[i].imageURL.length-1)==\"\\\"\"){\n        jsonResponse.paid[i].imageURL=jsonResponse.paid[i].imageURL.slice(0,-1);\n      }\n    }\n    for(let i=0;i<jsonResponse[\"free\"].length;++i){\n      if(jsonResponse.free[i].imageURL.charAt(jsonResponse.free[i].imageURL.length-1)==\"\\\"\"){\n        jsonResponse.free[i].imageURL=jsonResponse.free[i].imageURL.slice(0,-1);\n      }\n    }\n    this.setState({ freeConf: jsonResponse.free });\n    this.setState({ paidConf: jsonResponse.paid });\n    this.reRenderList();\n  }\n\n  onlyUnique = (value, index, self) => {\n    return self.indexOf(value) === index;\n  };\n\n  reRenderList() {\n    var cities = [];\n    var countries = [];\n    var itemsToDisplay = [];\n    for (var i = 0; i < this.state.freeConf.length; i++) {\n      var item = this.state.freeConf[i];\n      item.type = \"Free\";\n      // if (item.imageURL.charAt(item.imageURL.length - 1) === '\\\\\"') {\n      //   item.imageURL = item.imageURL.slice(0, -1);\n      // }\n      itemsToDisplay.push(this.state.freeConf[i]);\n      countries.push(this.state.freeConf[i][\"country\"].toLowerCase().trim());\n      cities.push(this.state.freeConf[i][\"city\"].toLowerCase().trim());\n    }\n\n    for (i = 0; i < this.state.paidConf.length; i++) {\n      item = this.state.paidConf[i];\n      item.type = \"Paid\";\n      itemsToDisplay.push(this.state.paidConf[i]);\n      countries.push(this.state.paidConf[i][\"country\"].toLowerCase().trim());\n      cities.push(this.state.paidConf[i][\"city\"].toLowerCase().trim());\n    }\n\n    countries = Array.from(new Set(countries));\n    cities = Array.from(new Set(cities));\n\n    countries.sort();\n    cities.sort();\n    console.log(countries);\n    this.setState({ countries });\n    this.setState({ cities });\n    this.setState({ itemsToDisplay }, () => {\n      this.setState({ itemsToUse: [...this.state.itemsToDisplay] });\n    });\n  }\n}\n\nexport default SearchFilter;\n"]},"metadata":{},"sourceType":"module"}